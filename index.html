<!DOCTYPE html>
<html>
<head>
    <title>Josh's Site</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link
      rel="icon"
      href="/turtle-logo.jpeg"
      type="image/icon type"
    />
    <style>
        body {
            font-family: 'Inter', Arial, sans-serif;
            font-size: 18px;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            padding: 20px;
            max-width: 800px;
            margin: auto;
            justify-content: center;
        }
        
        
        h1 {
            font-size: 32px;
            font-weight: bold;
            color: #222;
        }
    
        p {
            margin-bottom: 16px;
        }
    
        a {
            color: #0077cc;
            text-decoration: none;
            font-weight: 600;
        }
    
        a:hover {
            text-decoration: underline;
        }
    
        .now-playing {
            display: flex;
            align-items: center;
            width: 300px;
            padding: 10px;
            background-color: rgba(46, 44, 44, 0.5);
            border-radius: 10px;
            font-family: Arial, sans-serif;
            color: #fff;
        }

        .now-playing img {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 5px;
            transition: transform 0.3s ease;
        }

        .now-playing img:hover {
            transform: scale(1.05);
        }

        .now-playing .track-info {
            display: flex;
            flex-direction: column;
        }

        .now-playing .song-title {
            font-size: 18px;
            font-weight: bold;
            margin: 0;
        }

        .now-playing .artist-name {
            font-size: 14px;
            margin: 2px 0 0;
        }
        .newcenter {
            display: flex;
            align-items: center;
            justify-content: center;
        }      
    </style>
</head>
<body>
    <h1>Hi :)</h1>
    <p>this is just a placeholder for my portfolio, i felt like the one i had up didnt reflect me anymore.</p>
    <p>i should be working on my new one and it should be up soon, you can still acess the old on <a href="/old/index.html">here</a> if you want to, images and links are broken tho cause i didnt update the html when moving it into a folder</p>
    <p>if you are still interested in my projects you can check them out on <a href="https://github.com/i-suck-at-most-stuff">my github</a></p>
    <p>- josh \(^w^)/</p>

    <p class="newcenter"> What I'm Listening To:</p>
    <div class="listening-container">
        <div class="newcenter">
            <div class="now-playing" id="nowPlaying">
                <p><i class="fab fa-spotify"></i> Loading now playing...</p>
            </div>
        </div>
    </div>
</body>
<script>
    const username = 'JoshIsYes'; 
    const apiKey = '152dd7341991a250c5e0b7092879abd9';    
    const apiUrl = `https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=${username}&api_key=${apiKey}&format=json&limit=1`;
  
    async function fetchNowPlaying() {
try {
  const response = await fetch(apiUrl);
  const data = await response.json();     
  const track = data.recenttracks.track[0];
  const nowPlayingDiv = document.getElementById('nowPlaying');
  
  if (track && track['@attr'] && track['@attr'].nowplaying) {
    const artist = track.artist['#text'];
    const songTitle = track.name;
    const albumCover = track.image[2]['#text'] || ''; 

    nowPlayingDiv.innerHTML = `
      <img src="${albumCover}" alt="Album cover">
      <div class="track-info">
        <p class="song-title">${songTitle}</p>
        <p class="artist-name">${artist}</p>
      </div>
    `;
  } else {
    nowPlayingDiv.innerHTML = `<p>I'm not currently playing anything, <a href="https://open.spotify.com/playlist/5Xg7VGKGjjXBwwzoZDtR4d?si=nc6n3xmGRnWZkWLsT2WihQ&pi=u-MzazJak1RPmo" style="text-decoration: none; color: inherit">feel free to check out my playlist tho.</a></p>`;
  }
} catch (error) {
  console.error('Error fetching now playing data:', error);
  document.getElementById('nowPlaying').innerHTML = `<p>Unable to load now playing data</p>`;
}
}

fetchNowPlaying();
setInterval(fetchNowPlaying, 30000);
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const links = document.querySelectorAll('.more-item');

        links.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault(); 
                document.body.classList.remove('fade-in');
                document.body.style.opacity = 0; 

                setTimeout(() => {
                    window.location.href = this.href;
                }, 300);
            });
        });
    });
</script>
</html>